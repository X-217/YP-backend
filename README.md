# YP-backend

Разработка backend для учебного проекта 'Mesto'.

### Основные используемые технологии:
- node.js
- express
- mongoDB

## Этапы разработки:

### "Проектная работа 12" - выполнено, принято

 - в проекте есть **package.json**;
 - в проекте есть **.editorconfig**;
 - в проекте есть **.eslintrc**, расширяющий конфигурацию **airbnb-base**, а также необходимые для работы линтера dev-зависимости;
 - в проекте есть **.gitignore**;
 - команда **npm run start** запускает сервер на **localhost:3000**;
 - команда **npm run dev **запускает сервер на **localhost:3000** с хот релоудом;
 - адрес **localhost:3000** загружает фронтенд проекта Mesto;
 - в ответ на запрос **GET localhost:3000/users** сервер вернёт JSON-объект из файла **users.json**;
 - в ответ на запрос **GET localhost:3000/cards** сервер вернёт JSON-объект из файла **cards.json**;
 - в ответ на запрос **GET localhost:3000/users/8340d0ec33270a25f2413b69**, сервер вернёт JSON-объект пользователя с переданным после /users идентификатором;
 - если пользователя с запрошенным идентификатором нет, API должен возвращать **404** статус ответа и **JSON: { "message": "Нет пользователя с таким id" }**;
 - при запросе на несуществующий адрес, API должен возвращать **404** статус ответа и **JSON: { "message": "Запрашиваемый ресурс не найден" }.**
 
 ### "Проектная работа 13" - ожидание код-ревью
  
-  в .eslintrc добавлено исключение для **_id;** 
- **Node.js **приложение подключается к серверу Mongo по адресу **mongodb://localhost:27017/mestodb;** 
- созданы схема и модель пользователя с полями **name**, **about** и **avatar**, поля корректно валидируются; - выполнено 
- созданы схема и модель карточки с полями **name**, l**ink,** **owner**, **likes** и **createdAt**, поля корректно валидируются;
- запрос на **GET /users** возвращает всех пользователей из базы;
 - запрос **GET /users/:userId **возвращает конкретного пользователя;
- запрос **POST /users** создаёт пользователя;
- запрос **GET /cards** возвращает все карточки всех пользователей;
- запрос **POST /cards** создаёт карточку;
- если в любом из запросов что-то идёт не так, сервер возвращает ответ с ошибкой и соответствующим ей статусом;
- папки **public** и **data** удалены;
- реализуйте ещё четыре роута:
**PATCH /users/me**— обновляет профиль
**PATCH /users/me/avatar** — обновляет аватар
**PUT /cards/:cardId/likes** — поставить лайк карточке
**DELETE /cards/:cardId/likes** — убрать лайк с карточки
 
Исправленные замечания:
 - реализована обработка ошибок валидации
 - корректно проставлены статусы ошибок
 

## Запуск проекта

Склонируйте репозиторий

https://github.com/X-217/YP-backend.git

Установите зависимости

`npm install`

Запустите сервер

`npm run start`

Для запуска с **hot reload**

`npm run dev`

Для тестирования работы приложения используйте Postman: https://www.postman.com/downloads/

Образец объекта для создания нового пользователя:
```json
{
"name" : "Тестовый пользователь",
"about" : "Информация о себе",
"avatar" :"https://icdn.lenta.ru/images/2020/05/27/00/20200527004126544/pic_2878afc7e709e103ad0db9b17361affa.jpg"
}
```

Образец объекта для создания новой карточки:

```json
{
    "name": "Moscow",
    "link": "https://avatars.mds.yandex.net/get-pdb/1016500/f2c63605-9779-4894-afc2-8210dd16b250/s1200?webp=false"
}
```
